

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Configuration &mdash; Sphinx-Gallery 0.2.0-git documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_override.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Advanced usage" href="advanced.html" />
    <link rel="prev" title="How to structure your Python scripts for Sphinx-Gallery" href="syntax.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Sphinx-Gallery
          

          
          </a>

          
            
            
              <div class="version">
                0.2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Using Sphinx Gallery</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started with Sphinx-Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="syntax.html">How to structure your Python scripts for Sphinx-Gallery</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#list-of-config-options">List of config options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#manage-multiple-galleries">Manage multiple galleries</a></li>
<li class="toctree-l2"><a class="reference internal" href="#parsing-and-executing-examples-based-on-matching-patterns">Parsing and executing examples based on matching patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sorting-gallery-subsections">Sorting gallery subsections</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sorting-gallery-examples">Sorting gallery examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#add-intersphinx-links-to-your-examples">Add intersphinx links to your examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#add-mini-galleries-for-api-documentation">Add mini-galleries for API documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#examples-using-numpy-exp">Examples using <code class="docutils literal notranslate"><span class="pre">numpy.exp</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#auto-documenting-your-api-with-links-to-examples">Auto-documenting your API with links to examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#using-a-custom-default-thumbnail">Using a custom default thumbnail</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-line-numbers-to-examples">Adding line numbers to examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#add-your-own-first-notebook-cell">Add your own first notebook cell</a></li>
<li class="toctree-l2"><a class="reference internal" href="#disabling-download-button-of-all-scripts">Disabling download button of all scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#choosing-the-thumbnail-image">Choosing the thumbnail image</a></li>
<li class="toctree-l2"><a class="reference internal" href="#generate-binder-links-for-gallery-notebooks-experimental">Generate Binder links for gallery notebooks (experimental)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#building-without-executing-examples">Building without executing examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#image-scrapers">Image scrapers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#custom-scrapers">Custom scrapers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#resetting-modules">Resetting modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dealing-with-failing-gallery-example-scripts">Dealing with failing Gallery example scripts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#abort-build-on-first-fail">Abort build on first fail</a></li>
<li class="toctree-l3"><a class="reference internal" href="#don-t-fail-the-build-on-exit">Don’t fail the build on exit</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#setting-gallery-thumbnail-size">Setting gallery thumbnail size</a></li>
<li class="toctree-l2"><a class="reference internal" href="#minimal-reported-time">Minimal reported time</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Advanced usage and information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Sphinx-Gallery Utilities</a></li>
</ul>
<p class="caption"><span class="caption-text">Example galleries</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/index.html">Gallery of Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/index.html">Secondary gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto_mayavi_examples/index.html">Gallery of Examples using Mayavi</a></li>
</ul>
<p class="caption"><span class="caption-text">API and developer reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="reference.html">Sphinx-Gallery API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/sphinx-gallery/sphinx-gallery">Fork sphinx-gallery on Github</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Sphinx-Gallery</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Configuration</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/configuration.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="configuration">
<span id="id1"></span><h1>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h1>
<p>Configuration and customization of sphinx-gallery is done primarily with a
dictionary specified in your <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> file. A list of the possible
keys are listed <a class="reference internal" href="#list-of-options"><span class="std std-ref">below</span></a> and explained in
greater detail in subsequent sections.</p>
<div class="section" id="list-of-config-options">
<span id="list-of-options"></span><h2>List of config options<a class="headerlink" href="#list-of-config-options" title="Permalink to this headline">¶</a></h2>
<p>Most sphinx-gallery configuration options are set in the Sphinx <code class="docutils literal notranslate"><span class="pre">conf.py</span></code>
file:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">examples_dirs</span></code> and <code class="docutils literal notranslate"><span class="pre">gallery_dirs</span></code> (<a class="reference internal" href="#multiple-galleries-config"><span class="std std-ref">Manage multiple galleries</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">filename_pattern</span></code> and <code class="docutils literal notranslate"><span class="pre">ignore_pattern</span></code> (<a class="reference internal" href="#build-pattern"><span class="std std-ref">Parsing and executing examples based on matching patterns</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">subsection_order</span></code> (<a class="reference internal" href="#sub-gallery-order"><span class="std std-ref">Sorting gallery subsections</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">within_subsection_order</span></code> (<a class="reference internal" href="#within-gallery-order"><span class="std std-ref">Sorting gallery examples</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">reference_url</span></code> (<a class="reference internal" href="#link-to-documentation"><span class="std std-ref">Add intersphinx links to your examples</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">backreferences_dir</span></code> and <code class="docutils literal notranslate"><span class="pre">doc_module</span></code> (<a class="reference internal" href="#references-to-examples"><span class="std std-ref">Add mini-galleries for API documentation</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">default_thumb_file</span></code> (<a class="reference internal" href="#custom-default-thumb"><span class="std std-ref">Using a custom default thumbnail</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">thumbnail_size</span></code> (<a class="reference internal" href="#setting-thumbnail-size"><span class="std std-ref">Setting gallery thumbnail size</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">line_numbers</span></code> (<a class="reference internal" href="#adding-line-numbers"><span class="std std-ref">Adding line numbers to examples</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">download_all_examples</span></code> (<a class="reference internal" href="#disable-all-scripts-download"><span class="std std-ref">Disabling download button of all scripts</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">plot_gallery</span></code> (<a class="reference internal" href="#without-execution"><span class="std std-ref">Building without executing examples</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">image_scrapers</span></code> (and the deprecated <code class="docutils literal notranslate"><span class="pre">find_mayavi_figures</span></code>)
(<a class="reference internal" href="#image-scrapers"><span class="std std-ref">Image scrapers</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">reset_modules</span></code> (<a class="reference internal" href="#reset-modules"><span class="std std-ref">Resetting modules</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">abort_on_example_error</span></code> (<a class="reference internal" href="#abort-on-first"><span class="std std-ref">Abort build on first fail</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">expected_failing_examples</span></code> (<a class="reference internal" href="#dont-fail-exit"><span class="std std-ref">Don’t fail the build on exit</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">min_reported_time</span></code> (<a class="reference internal" href="#min-reported-time"><span class="std std-ref">Minimal reported time</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">binder</span></code> (<a class="reference internal" href="#binder-links"><span class="std std-ref">Generate Binder links for gallery notebooks (experimental)</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">first_notebook_cell</span></code> (<a class="reference internal" href="#first-notebook-cell"><span class="std std-ref">Add your own first notebook cell</span></a>)</li>
</ul>
<p>Some options can also be set or overridden on a file-by-file basis:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">sphinx_gallery_line_numbers</span></code> (<a class="reference internal" href="#adding-line-numbers"><span class="std std-ref">Adding line numbers to examples</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">sphinx_gallery_thumbnail_number</span></code> (<a class="reference internal" href="#choosing-thumbnail"><span class="std std-ref">Choosing the thumbnail image</span></a>)</li>
</ul>
<p>Some options can be set during the build execution step, e.g. using a Makefile:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">html-noplot</span></code> (<a class="reference internal" href="#without-execution"><span class="std std-ref">Building without executing examples</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">html_abort_on_example_error</span></code> (<a class="reference internal" href="#abort-on-first"><span class="std std-ref">Abort build on first fail</span></a>)</li>
</ul>
<p>And some things can be tweaked directly in CSS:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">.sphx-glr-thumbcontainer</span></code> (<a class="reference internal" href="#setting-thumbnail-size"><span class="std std-ref">Setting gallery thumbnail size</span></a>)</li>
</ul>
</div>
<div class="section" id="manage-multiple-galleries">
<span id="multiple-galleries-config"></span><h2>Manage multiple galleries<a class="headerlink" href="#manage-multiple-galleries" title="Permalink to this headline">¶</a></h2>
<p>Sphinx-Gallery only supports up to sub-folder level in its gallery directories.
This might be a limitation for you. Or you might want to have separate
galleries for different purposes, an examples gallery and a tutorials gallery.
For this you use in your Sphinx <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> file a list of directories in
the sphinx configuration dictionary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;examples_dirs&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;../examples&#39;</span><span class="p">,</span> <span class="s1">&#39;../tutorials&#39;</span><span class="p">],</span>
    <span class="s1">&#39;gallery_dirs&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;auto_examples&#39;</span><span class="p">,</span> <span class="s1">&#39;tutorials&#39;</span><span class="p">],</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Keep in mind that both lists have to be of the same length.</p>
</div>
<div class="section" id="parsing-and-executing-examples-based-on-matching-patterns">
<span id="build-pattern"></span><h2>Parsing and executing examples based on matching patterns<a class="headerlink" href="#parsing-and-executing-examples-based-on-matching-patterns" title="Permalink to this headline">¶</a></h2>
<p>By default, Sphinx-Gallery will <strong>parse and add</strong> all files with a <code class="docutils literal notranslate"><span class="pre">.py</span></code>
extension to the gallery. To ignore some files and omit them from the gallery
entirely, you can use a regular expression (the default is shown here):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;ignore_pattern&#39;</span><span class="p">:</span> <span class="s1">&#39;__init__\.py&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Of the files that get <strong>parsed and added</strong> to the gallery, by default
Sphinx-Gallery only <strong>executes</strong> files whose name begins with <code class="docutils literal notranslate"><span class="pre">plot</span></code>.
However, if this naming convention does not suit your project, you can modify
the pattern of filenames to build in your Sphinx <code class="docutils literal notranslate"><span class="pre">conf.py</span></code>. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;filename_pattern&#39;</span><span class="p">:</span> <span class="s1">&#39;/plot_compute_&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>will build all examples starting with <code class="docutils literal notranslate"><span class="pre">plot_compute_</span></code>. The key <code class="docutils literal notranslate"><span class="pre">filename_pattern</span></code> accepts
<a class="reference external" href="https://docs.python.org/2/library/re.html">regular expressions</a> which will be matched with the full path of the example. This is the reason
the leading <code class="docutils literal notranslate"><span class="pre">'/'</span></code> is required. Users are advised to use <code class="docutils literal notranslate"><span class="pre">os.sep</span></code> instead of <code class="docutils literal notranslate"><span class="pre">'/'</span></code> if
they want to be agnostic to the operating system.</p>
<p>This option is also useful if you want to build only a subset of the examples. For example, you may
want to build only one example so that you can link it in the documentation. In that case,
you would do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;filename_pattern&#39;</span><span class="p">:</span> <span class="s1">&#39;plot_awesome_example\.py&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Here, one should escape the dot <code class="docutils literal notranslate"><span class="pre">'\.'</span></code> as otherwise python <a class="reference external" href="https://docs.python.org/2/library/re.html">regular expressions</a> matches any character. Nevertheless, as
one is targeting a specific file, it would match the dot in the filename even without this escape character.</p>
<p>Similarly, to build only examples in a specific directory, you can do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;filename_pattern&#39;</span><span class="p">:</span> <span class="s1">&#39;/directory/plot_&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Alternatively, you can skip executing some examples. For example, to skip building examples
starting with <code class="docutils literal notranslate"><span class="pre">plot_long_examples_</span></code>, you would do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;filename_pattern&#39;</span><span class="p">:</span> <span class="s1">&#39;/plot_(?!long_examples)&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As the patterns are parsed as <a class="reference external" href="https://docs.python.org/2/library/re.html">regular expressions</a>, users are advised to consult the
<a class="reference external" href="https://docs.python.org/2/library/re.html">regular expressions</a> module for more details.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Remember that Sphinx allows overriding <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> values from the command
line, so you can for example build a single example directly via something like:</p>
<div class="last highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sphinx-build -D sphinx_gallery_conf.filename_pattern<span class="o">=</span>plot_specific_example<span class="se">\.</span>py ...
</pre></div>
</div>
</div>
</div>
<div class="section" id="sorting-gallery-subsections">
<span id="sub-gallery-order"></span><h2>Sorting gallery subsections<a class="headerlink" href="#sorting-gallery-subsections" title="Permalink to this headline">¶</a></h2>
<p>Gallery subsections are sorted by default alphabetically by their folder
name, and as such you can always organize them by changing your folder
names. An alternative option is to use a sortkey to organize those
subsections. We provide an explicit order sortkey where you have to define
the order of all subfolders in your galleries:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sphinx_gallery.sorting</span> <span class="k">import</span> <span class="n">ExplicitOrder</span>
<span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;examples_dirs&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;../examples&#39;</span><span class="p">,</span><span class="s1">&#39;../tutorials&#39;</span><span class="p">],</span>
    <span class="s1">&#39;subsection_order&#39;</span><span class="p">:</span> <span class="n">ExplicitOrder</span><span class="p">([</span><span class="s1">&#39;../examples/sin_func&#39;</span><span class="p">,</span>
                                       <span class="s1">&#39;../examples/no_output&#39;</span><span class="p">,</span>
                                       <span class="s1">&#39;../tutorials/seaborn&#39;</span><span class="p">]),</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Here we build 2 main galleries <cite>examples</cite> and <cite>tutorials</cite>, each of them
with subsections. To specify their order explicitly in the gallery we
import <a class="reference internal" href="gen_modules/sphinx_gallery.sorting.html#sphinx_gallery.sorting.ExplicitOrder" title="sphinx_gallery.sorting.ExplicitOrder"><code class="xref py py-class docutils literal notranslate"><span class="pre">sphinx_gallery.sorting.ExplicitOrder</span></code></a> and initialize it with
the list of all subfolders with their paths relative to <cite>conf.py</cite> in the
order you prefer them to appear. Keep in mind that we use a single sort key
for all the galleries that are built, thus we include the prefix of each
gallery in the corresponding subsection folders. One does not define a
sortkey per gallery. You can use Linux paths, and if your documentation is
built in a Windows system, paths will be transformed to work accordingly,
the converse does not hold.</p>
<p>If you so desire you can implement your own sorting key. It will be
provided the relative paths to <cite>conf.py</cite> of each sub gallery folder.</p>
</div>
<div class="section" id="sorting-gallery-examples">
<span id="within-gallery-order"></span><h2>Sorting gallery examples<a class="headerlink" href="#sorting-gallery-examples" title="Permalink to this headline">¶</a></h2>
<p>Within a given gallery (sub)section, the example files are ordered by
using the standard <a class="reference external" href="https://docs.python.org/3/library/functions.html#sorted" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">sorted()</span></code></a> function with the <code class="docutils literal notranslate"><span class="pre">key</span></code> argument by default
set to
<a class="reference internal" href="gen_modules/sphinx_gallery.sorting.html#sphinx_gallery.sorting.NumberOfCodeLinesSortKey" title="sphinx_gallery.sorting.NumberOfCodeLinesSortKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">NumberOfCodeLinesSortKey(src_dir)</span></code></a>,
which sorts the files based on the number of code lines:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sphinx_gallery.sorting</span> <span class="k">import</span> <span class="n">NumberOfCodeLinesSortKey</span>
<span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;within_subsection_order&#39;</span><span class="p">:</span> <span class="n">NumberOfCodeLinesSortKey</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In addition, multiple convenience classes are provided for use with
<code class="docutils literal notranslate"><span class="pre">within_subsection_order</span></code>:</p>
<ul class="simple">
<li><a class="reference internal" href="gen_modules/sphinx_gallery.sorting.html#sphinx_gallery.sorting.NumberOfCodeLinesSortKey" title="sphinx_gallery.sorting.NumberOfCodeLinesSortKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">sphinx_gallery.sorting.NumberOfCodeLinesSortKey</span></code></a> (default) to sort by
the number of code lines.</li>
<li><a class="reference internal" href="gen_modules/sphinx_gallery.sorting.html#sphinx_gallery.sorting.FileSizeSortKey" title="sphinx_gallery.sorting.FileSizeSortKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">sphinx_gallery.sorting.FileSizeSortKey</span></code></a> to sort by file size.</li>
<li><a class="reference internal" href="gen_modules/sphinx_gallery.sorting.html#sphinx_gallery.sorting.FileNameSortKey" title="sphinx_gallery.sorting.FileNameSortKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">sphinx_gallery.sorting.FileNameSortKey</span></code></a> to sort by file name.</li>
<li><a class="reference internal" href="gen_modules/sphinx_gallery.sorting.html#sphinx_gallery.sorting.ExampleTitleSortKey" title="sphinx_gallery.sorting.ExampleTitleSortKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">sphinx_gallery.sorting.ExampleTitleSortKey</span></code></a> to sort by example title.</li>
</ul>
</div>
<div class="section" id="add-intersphinx-links-to-your-examples">
<span id="link-to-documentation"></span><h2>Add intersphinx links to your examples<a class="headerlink" href="#add-intersphinx-links-to-your-examples" title="Permalink to this headline">¶</a></h2>
<p>Sphinx-Gallery enables you to add hyperlinks in your example scripts so that
you can link the used functions to their matching online documentation. As such
code snippets within the gallery appear like this</p>
<div class="highlight-python"><div class="highlight"><pre>
<span class="n">y</span> <span class="o">=</span> <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.sin.html#numpy.sin"><span class="n">np</span><span class="o">.</span><span class="n">sin</span></a><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div><p>Have a look at this in full action
in our example <a class="reference internal" href="auto_examples/plot_gallery_version.html#sphx-glr-auto-examples-plot-gallery-version-py"><span class="std std-ref">Sphinx-Gallery introduction</span></a>.</p>
<p>To make this work in your documentation you need to include to the configuration
dictionary within your Sphinx <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;reference_url&#39;</span><span class="p">:</span> <span class="p">{</span>
         <span class="c1"># The module you locally document uses None</span>
        <span class="s1">&#39;sphinx_gallery&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>To link to external modules, if you use the Sphinx extension
<a class="reference external" href="http://www.sphinx-doc.org/en/stable/ext/intersphinx.html#module-sphinx.ext.intersphinx" title="(in Sphinx v1.7.8)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.intersphinx</span></code></a>, no additional changes are necessary,
as the <code class="docutils literal notranslate"><span class="pre">intersphinx</span></code> inventory will automatically be used.
If you do not use <code class="docutils literal notranslate"><span class="pre">intersphinx</span></code>, then you should add entries that
point to the directory containing <code class="docutils literal notranslate"><span class="pre">searchindex.js</span></code>, such as
<code class="docutils literal notranslate"><span class="pre">'matplotlib':</span> <span class="pre">'https://matplotlib.org'</span></code>.</p>
</div>
<div class="section" id="add-mini-galleries-for-api-documentation">
<span id="references-to-examples"></span><h2>Add mini-galleries for API documentation<a class="headerlink" href="#add-mini-galleries-for-api-documentation" title="Permalink to this headline">¶</a></h2>
<p>When documenting a given function/class, Sphinx-Gallery enables you to link to
any examples that either:</p>
<ol class="arabic simple">
<li>Use the function/instantiate the class in the code.</li>
<li>Refer to that function/class using sphinx markup <code class="docutils literal notranslate"><span class="pre">:func:</span></code>/<code class="docutils literal notranslate"><span class="pre">:class:</span></code>
in a documentation block.</li>
</ol>
<p>The former is useful for auto-documenting functions that are used and classes
that are explicitly instantiated. The latter is useful for classes that are
typically implicitly returned rather than explicitly instantiated (e.g.,
<a class="reference external" href="https://matplotlib.org/api/axes_api.html#matplotlib.axes.Axes" title="(in Matplotlib v2.2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.axes.Axes</span></code></a> which is most often instantiated only indirectly
within function calls).</p>
<p>For example, we can embed a small gallery of all examples that use or
refer to <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.exp.html#numpy.exp" title="(in NumPy v1.15)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.exp</span></code></a>, which looks like this:</p>
<div class="section" id="examples-using-numpy-exp">
<h3>Examples using <code class="docutils literal notranslate"><span class="pre">numpy.exp</span></code><a class="headerlink" href="#examples-using-numpy-exp" title="Permalink to this headline">¶</a></h3>
<div class="sphx-glr-thumbcontainer" tooltip="A simple example for ploting two figures of a exponential function in order to test the autonom..."><div class="figure" id="id5">
<img alt="_images/sphx_glr_plot_exp_thumb.png" src="_images/sphx_glr_plot_exp_thumb.png" />
<p class="caption"><span class="caption-text"><a class="reference internal" href="auto_examples/plot_exp.html#sphx-glr-auto-examples-plot-exp-py"><span class="std std-ref">Plotting the exponential function</span></a></span></p>
</div>
</div><div class="sphx-glr-thumbcontainer" tooltip="Considering an atomic single orbital and how to fill it by use of the chemical potential. This ..."><div class="figure" id="id6">
<img alt="_images/sphx_glr_plot_quantum_thumb.png" src="_images/sphx_glr_plot_quantum_thumb.png" />
<p class="caption"><span class="caption-text"><a class="reference internal" href="auto_examples/plot_quantum.html#sphx-glr-auto-examples-plot-quantum-py"><span class="std std-ref">Some Quantum Mechanics, filling an atomic orbital</span></a></span></p>
</div>
</div><div class="sphx-glr-thumbcontainer" tooltip="An example to demonstrate how to choose which figure is displayed as the thumbnail if the examp..."><div class="figure" id="id7">
<img alt="_images/sphx_glr_plot_choose_thumbnail_thumb.png" src="_images/sphx_glr_plot_choose_thumbnail_thumb.png" />
<p class="caption"><span class="caption-text"><a class="reference internal" href="auto_examples/plot_choose_thumbnail.html#sphx-glr-auto-examples-plot-choose-thumbnail-py"><span class="std std-ref">Choosing the thumbnail figure</span></a></span></p>
</div>
</div><div class="sphx-glr-thumbcontainer" tooltip="This demonstrates how Sphinx-Gallery identifies function names to figure out which functions ar..."><div class="figure" id="id8">
<img alt="_images/sphx_glr_plot_function_identifier_thumb.png" src="_images/sphx_glr_plot_function_identifier_thumb.png" />
<p class="caption"><span class="caption-text"><a class="reference internal" href="auto_examples/plot_function_identifier.html#sphx-glr-auto-examples-plot-function-identifier-py"><span class="std std-ref">Identifying function names in a script</span></a></span></p>
</div>
</div><div class="sphx-glr-thumbcontainer" tooltip="Plot to present Sphinx-Gallery using itself to display its version. "><div class="figure" id="id9">
<img alt="_images/sphx_glr_plot_gallery_version_thumb.png" src="_images/sphx_glr_plot_gallery_version_thumb.png" />
<p class="caption"><span class="caption-text"><a class="reference internal" href="auto_examples/plot_gallery_version.html#sphx-glr-auto-examples-plot-gallery-version-py"><span class="std std-ref">Sphinx-Gallery introduction</span></a></span></p>
</div>
</div><div style='clear:both'></div><p>For such behavior to be available, you have to activate it in
your Sphinx-Gallery configuration <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> file with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="c1"># directory where function granular galleries are stored</span>
    <span class="s1">&#39;backreferences_dir&#39;</span>  <span class="p">:</span> <span class="s1">&#39;gen_modules/backreferences&#39;</span><span class="p">,</span>

    <span class="c1"># Modules for which function level galleries are created.  In</span>
    <span class="c1"># this case sphinx_gallery and numpy in a tuple of strings.</span>
    <span class="s1">&#39;doc_module&#39;</span>          <span class="p">:</span> <span class="p">(</span><span class="s1">&#39;sphinx_gallery&#39;</span><span class="p">,</span> <span class="s1">&#39;numpy&#39;</span><span class="p">)}</span>
</pre></div>
</div>
<p>The path you specify in <code class="docutils literal notranslate"><span class="pre">backreferences_dir</span></code> (here we choose
<code class="docutils literal notranslate"><span class="pre">gen_modules/backreferences</span></code>) will be populated with
ReStructuredText files. Each will contain a reduced version of the
gallery specific to every function used across all the examples
galleries and belonging to the modules listed in <code class="docutils literal notranslate"><span class="pre">doc_module</span></code>. Keep
in mind that the path set in <code class="docutils literal notranslate"><span class="pre">backreferences_dir</span></code> is <strong>relative</strong> to the
<code class="docutils literal notranslate"><span class="pre">conf.py</span></code> file.</p>
<p>Then within your sphinx documentation <code class="docutils literal notranslate"><span class="pre">.rst</span></code> files you write these
lines to include this reduced version of the Gallery, which has
examples in use of a specific function, in this case <code class="docutils literal notranslate"><span class="pre">numpy.exp</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">include</span><span class="p">::</span> <span class="n">gen_modules</span><span class="o">/</span><span class="n">backreferences</span><span class="o">/</span><span class="n">numpy</span><span class="o">.</span><span class="n">exp</span><span class="o">.</span><span class="n">examples</span>
<span class="o">..</span> <span class="n">raw</span><span class="p">::</span> <span class="n">html</span>

    <span class="o">&lt;</span><span class="n">div</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;clear:both&#39;</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">include</span></code> directive takes a path <strong>relative</strong> to the <code class="docutils literal notranslate"><span class="pre">rst</span></code>
file it is called from. In the case of this documentation file (which
is in the same directory as <code class="docutils literal notranslate"><span class="pre">conf.py</span></code>) we directly use the path
declared in <code class="docutils literal notranslate"><span class="pre">backreferences_dir</span></code> followed by the function whose
examples we want to show and the file has the <code class="docutils literal notranslate"><span class="pre">.examples</span></code> extension.</p>
</div>
<div class="section" id="auto-documenting-your-api-with-links-to-examples">
<h3>Auto-documenting your API with links to examples<a class="headerlink" href="#auto-documenting-your-api-with-links-to-examples" title="Permalink to this headline">¶</a></h3>
<p>The previous feature can be automated for all your modules combining
it with the standard sphinx extensions <a class="reference external" href="http://sphinx-doc.org/ext/autodoc.html">autodoc</a> and <a class="reference external" href="http://sphinx-doc.org/ext/autosummary.html">autosummary</a>. First enable them in your
<code class="docutils literal notranslate"><span class="pre">conf.py</span></code> extensions list:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sphinx_gallery</span>
<span class="n">extensions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="o">...</span>
    <span class="s1">&#39;sphinx.ext.autodoc&#39;</span><span class="p">,</span>
    <span class="s1">&#39;sphinx.ext.autosummary&#39;</span><span class="p">,</span>
    <span class="s1">&#39;sphinx_gallery.gen_gallery&#39;</span><span class="p">,</span>
    <span class="p">]</span>

<span class="c1"># generate autosummary even if no references</span>
<span class="n">autosummary_generate</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p><a class="reference external" href="http://sphinx-doc.org/ext/autodoc.html">autodoc</a> and <a class="reference external" href="http://sphinx-doc.org/ext/autosummary.html">autosummary</a> are very powerful
extensions, please read about them. In this example we’ll explain how
the <a class="reference internal" href="reference.html#sphx-glr-api-reference"><span class="std std-ref">Sphinx-Gallery API Reference</span></a> is automatically generated. The
documentation is done at the module level. We first start with the
<code class="docutils literal notranslate"><span class="pre">reference.rst</span></code> file</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="nt">_sphx_glr_api_reference:</span>

<span class="gh">Sphinx-Gallery API Reference</span>
<span class="gh">============================</span>

The complete Sphinx-Gallery project is automatically documented for
every module.

<span class="p">..</span> <span class="ow">currentmodule</span><span class="p">::</span> sphinx_gallery

<span class="p">..</span> <span class="ow">automodule</span><span class="p">::</span> sphinx_gallery
   <span class="nc">:no-members:</span>
   <span class="nc">:no-inherited-members:</span>

<span class="na">:py:mod:</span><span class="nv">`sphinx_gallery`</span>:

<span class="p">..</span> <span class="ow">autosummary</span><span class="p">::</span>
   <span class="nc">:toctree:</span> <span class="nf">gen_modules/</span>
   <span class="nc">:template:</span> <span class="nf">module.rst</span>

   gen_gallery
   backreferences
   gen_rst
   scrapers
   py_source_parser
   docs_resolv
   notebook
   downloads
   docs_resolv
   sorting
   binder
</pre></div>
</div>
<p>The important directives are <code class="docutils literal notranslate"><span class="pre">currentmodule</span></code> where we specify which
module we are documenting, for our purpose is <code class="docutils literal notranslate"><span class="pre">sphinx_gallery</span></code>. The
<code class="docutils literal notranslate"><span class="pre">autosummary</span></code> directive is responsible for generating the <code class="docutils literal notranslate"><span class="pre">rst</span></code>
files documenting each module.  <code class="docutils literal notranslate"><span class="pre">autosummary</span></code> takes the option
<em>toctree</em> which is where the <code class="docutils literal notranslate"><span class="pre">rst</span></code> files are saved and <em>template</em>
which is the file that describes how the module <code class="docutils literal notranslate"><span class="pre">rst</span></code> documentation
file is to be constructed, finally we write the modules we wish to
document, in this case all modules of Sphinx-Gallery.</p>
<p>The template file <code class="docutils literal notranslate"><span class="pre">module.rst</span></code> for the <code class="docutils literal notranslate"><span class="pre">autosummary</span></code> directive has
to be saved in the path <code class="docutils literal notranslate"><span class="pre">_templates/module.rst</span></code>. We present our
configuration in the following block. The most relevant part is the
loop defined between lines <strong>12-22</strong> that parses all the functions of
the module. There we have included the snippet introduced in the
previous section. Keep in mind that the include directive is
<strong>relative</strong> to the file location, and module documentation files are
saved in the directory we specified in the <em>toctree</em> option of the
<code class="docutils literal notranslate"><span class="pre">autosummary</span></code> directive used before in the <code class="docutils literal notranslate"><span class="pre">reference.rst</span></code> file.
The files we are including are from the <code class="docutils literal notranslate"><span class="pre">backreferences_dir</span></code>
configuration option setup for Sphinx-Gallery.</p>
<div class="highlight-rst notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57</pre></div></td><td class="code"><div class="highlight"><pre><span></span>{{ fullname }}
{{ underline }}

<span class="p">..</span> <span class="ow">automodule</span><span class="p">::</span> {{ fullname }}

   {% block functions %}
   {% if functions %}

   Functions
   ---------

<span class="hll">   {% for item in functions %}
</span><span class="hll">
</span><span class="hll"><span class="p">   ..</span> <span class="ow">autofunction</span><span class="p">::</span> {{ item }}
</span><span class="hll">
</span><span class="hll"><span class="p">   ..</span> <span class="ow">include</span><span class="p">::</span> backreferences/{{fullname}}.{{item}}.examples
</span><span class="hll">
</span><span class="hll"><span class="p">   ..</span> <span class="ow">raw</span><span class="p">::</span> html
</span><span class="hll">
</span><span class="hll">	       &lt;div style=&#39;clear:both&#39;&gt;&lt;/div&gt;
</span><span class="hll">
</span><span class="hll">   {%- endfor %}
</span>   {% endif %}
   {% endblock %}

   {% block classes %}
   {% if classes %}

   Classes
   -------

<span class="hll">   {% for item in classes %}
</span><span class="hll"><span class="p">   ..</span> <span class="ow">autoclass</span><span class="p">::</span> {{ item }}
</span><span class="hll">      <span class="nc">:members:</span>
</span><span class="hll">
</span><span class="hll"><span class="p">   ..</span> <span class="ow">include</span><span class="p">::</span> backreferences/{{fullname}}.{{item}}.examples
</span><span class="hll">
</span><span class="hll"><span class="p">   ..</span> <span class="ow">raw</span><span class="p">::</span> html
</span><span class="hll">
</span><span class="hll">	       &lt;div style=&#39;clear:both&#39;&gt;&lt;/div&gt;
</span><span class="hll">
</span><span class="hll">   {%- endfor %}
</span>   {% endif %}
   {% endblock %}

   {% block exceptions %}
   {% if exceptions %}

   Exceptions
   ----------

<span class="p">   ..</span> <span class="ow">autosummary</span><span class="p">::</span>
   {% for item in exceptions %}
      {{ item }}
   {%- endfor %}
   {% endif %}
   {% endblock %}
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="using-a-custom-default-thumbnail">
<span id="custom-default-thumb"></span><h2>Using a custom default thumbnail<a class="headerlink" href="#using-a-custom-default-thumbnail" title="Permalink to this headline">¶</a></h2>
<p>In case you want to use your own image for the thumbnail of examples that do
not generate any plot, you can specify it by editing your Sphinx <code class="docutils literal notranslate"><span class="pre">conf.py</span></code>
file. You need to add to the configuration dictionary a key called
<cite>default_thumb_file</cite>. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;default_thumb_file&#39;</span><span class="p">:</span> <span class="s1">&#39;path/to/thumb/file.png&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-line-numbers-to-examples">
<span id="adding-line-numbers"></span><h2>Adding line numbers to examples<a class="headerlink" href="#adding-line-numbers-to-examples" title="Permalink to this headline">¶</a></h2>
<p>Line numbers can be displayed in listings by adding the global <code class="docutils literal notranslate"><span class="pre">line_numbers</span></code>
setting:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;line_numbers&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>or by adding a comment to the example script, which overrides any global
setting:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># sphinx_gallery_line_numbers = True</span>
</pre></div>
</div>
<p>Note that for Sphinx &lt; 1.3, the line numbers will not be consistent with the
original file.</p>
</div>
<div class="section" id="add-your-own-first-notebook-cell">
<span id="first-notebook-cell"></span><h2>Add your own first notebook cell<a class="headerlink" href="#add-your-own-first-notebook-cell" title="Permalink to this headline">¶</a></h2>
<p>Sphinx-Gallery adds an extra cell to the beginning of every generated notebook.
This is often for adding code that is required to run properly in the notebook,
but not in a <code class="docutils literal notranslate"><span class="pre">.py</span></code> file. By default, this text is</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
</pre></div>
</div>
<p>You can choose whatever text you like by modifying the <code class="docutils literal notranslate"><span class="pre">first_notebook_cell</span></code>
configuration parameter. For example, the gallery of this documentation
displays a comment along-side each the code shown above.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># This cell is added by sphinx-gallery</span>
<span class="c1"># It can be customized to whatever you like</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
</pre></div>
</div>
<p>Which is achieved by the following configuration:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;first_notebook_cell&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;# This cell is added by sphinx-gallery</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;# It can be customized to whatever you like</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;%matplotlib inline&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="disabling-download-button-of-all-scripts">
<span id="disable-all-scripts-download"></span><h2>Disabling download button of all scripts<a class="headerlink" href="#disabling-download-button-of-all-scripts" title="Permalink to this headline">¶</a></h2>
<p>By default Sphinx-Gallery collects all python scripts and all Jupyter
notebooks from each gallery into zip files which are made available for
download at the bottom of each gallery. To disable this behavior add to the
configuration dictionary in your <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;download_all_examples&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="choosing-the-thumbnail-image">
<span id="choosing-thumbnail"></span><h2>Choosing the thumbnail image<a class="headerlink" href="#choosing-the-thumbnail-image" title="Permalink to this headline">¶</a></h2>
<p>For examples that generate multiple figures, the default behavior will use
the first figure created in each as the thumbnail image displayed in the
gallery. To change the thumbnail image to a figure generated later in
an example script, add a comment to the example script to specify the
number of the figure you would like to use as the thumbnail. For example,
to use the 2nd figure created as the thumbnail:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># sphinx_gallery_thumbnail_number = 2</span>
</pre></div>
</div>
<p>The default behavior is <code class="docutils literal notranslate"><span class="pre">sphinx_gallery_thumbnail_number</span> <span class="pre">=</span> <span class="pre">1</span></code>. See
<a class="reference internal" href="auto_examples/plot_choose_thumbnail.html#sphx-glr-auto-examples-plot-choose-thumbnail-py"><span class="std std-ref">Choosing the thumbnail figure</span></a> for an example
of this functionality.</p>
</div>
<div class="section" id="generate-binder-links-for-gallery-notebooks-experimental">
<span id="binder-links"></span><h2>Generate Binder links for gallery notebooks (experimental)<a class="headerlink" href="#generate-binder-links-for-gallery-notebooks-experimental" title="Permalink to this headline">¶</a></h2>
<p>Sphinx-Gallery automatically generates Jupyter notebooks for any
examples built with the gallery. <a class="reference external" href="https://mybinder.org">Binder</a> makes it
possible to create interactive GitHub repositories that connect to cloud resources.</p>
<p>If you host your documentation on a GitHub repository, it is possible to
auto-generate a Binder link for each notebook. Clicking this link will
take users to a live version of the Jupyter notebook where they may
run the code interactively. For more information see the <a class="reference external" href="https://docs.mybinder.org">Binder documentation</a>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Binder is still beta technology, so there may be instability in the
experience of users who click Binder links.</p>
</div>
<p>In order to enable Binder links with Sphinx-Gallery, you must specify
a few pieces of information in <code class="docutils literal notranslate"><span class="pre">conf.py</span></code>. These are given as a nested
dictionary following the pattern below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
  <span class="o">...</span>
  <span class="s1">&#39;binder&#39;</span><span class="p">:</span> <span class="p">{</span>
     <span class="c1"># Required keys</span>
     <span class="s1">&#39;org&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;github_org&gt;&#39;</span><span class="p">,</span>
     <span class="s1">&#39;repo&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;github_repo&gt;&#39;</span><span class="p">,</span>
     <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;binder_url&gt;&#39;</span><span class="p">,</span>  <span class="c1"># Any URL of a binder server. Must be full URL (e.g. https://mybinder.org).</span>
     <span class="s1">&#39;branch&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;branch-for-documentation&gt;&#39;</span><span class="p">,</span>  <span class="c1"># Can be any branch, tag, or commit hash. Use a branch that hosts your docs.</span>
     <span class="s1">&#39;dependencies&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;list_of_paths_to_dependency_files&gt;&#39;</span><span class="p">,</span>
     <span class="c1"># Optional keys</span>
     <span class="s1">&#39;filepath_prefix&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;prefix&gt;&#39;</span> <span class="c1"># A prefix to append to any filepaths in Binder links.</span>
     <span class="s1">&#39;notebooks_dir&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;notebooks-directory-name&gt;&#39;</span> <span class="c1"># Jupyter notebooks for Binder will be copied to this directory (relative to site root).</span>
     <span class="s1">&#39;use_jupyter_lab&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="c1"># Whether Binder links should start Jupyter Lab instead of the Jupyter Notebook interface.</span>
     <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">branch:</span></code> should be the branch on which your documentation is hosted.
If you host your documentation on GitHub, this is usually <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> or <code class="docutils literal notranslate"><span class="pre">master</span></code>.</p>
<p>Each generated Jupyter Notebook will be copied to the folder
specified in <code class="docutils literal notranslate"><span class="pre">notebooks_dir</span></code>. This will be a subfolder of the sphinx output
directory and included with your site build.
Binder links will point to these notebooks.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">dependencies</span></code> should be a list of paths to Binder configuration files that
define the environment needed to run the examples. For example, a
<code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file. These will be copied to
the documentation branch specified in <code class="docutils literal notranslate"><span class="pre">branch:</span></code>. When a user clicks your
Binder link, these files will be used to create the environment.
For more information on what files you can use, see <a class="reference external" href="https://mybinder.readthedocs.io/en/latest/using.html#preparing-a-repository-for-binder">preparing your
repository</a>
in the <a class="reference external" href="https://docs.mybinder.org">Binder documentation</a> for more information on
what build files are supported.</p>
</div>
<p>See the Sphinx-Gallery <a class="reference external" href="https://github.com/sphinx-gallery/sphinx-gallery/blob/master/doc/conf.py">Sphinx configuration file</a>
for an example that uses the <a class="reference external" href="http://mybinder.org">public Binder server</a>.</p>
</div>
<div class="section" id="building-without-executing-examples">
<span id="without-execution"></span><h2>Building without executing examples<a class="headerlink" href="#building-without-executing-examples" title="Permalink to this headline">¶</a></h2>
<p>Sphinx-Gallery can parse all your examples and build the gallery
without executing any of the scripts. This is just for speed
visualization processes of the gallery and the size it takes your
website to display, or any use you can imagine for it. To achieve this you
need to pass the no plot option in the build process by modifying
your <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>html-noplot:
    $(SPHINXBUILD) -D plot_gallery=0 -b html $(ALLSPHINXOPTS) $(BUILDDIR)/html
    @echo
    @echo &quot;Build finished. The HTML pages are in $(BUILDDIR)/html.&quot;
</pre></div>
</div>
<p>Remember that for <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> white space is significant and the indentation are tabs
and not spaces.</p>
<p>Alternatively, you can add the <code class="docutils literal notranslate"><span class="pre">plot_gallery</span></code> option to the
<code class="docutils literal notranslate"><span class="pre">sphinx_gallery_conf</span></code> dictionary inside your <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> to have it as
a default:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;plot_gallery&#39;</span><span class="p">:</span> <span class="s1">&#39;False&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The highest precedence is always given to the <cite>-D</cite> flag of the
<code class="docutils literal notranslate"><span class="pre">sphinx-build</span></code> command.</p>
</div>
<div class="section" id="image-scrapers">
<span id="id4"></span><h2>Image scrapers<a class="headerlink" href="#image-scrapers" title="Permalink to this headline">¶</a></h2>
<p>By default, at the end of each code block Sphinx-gallery will detect new
<a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.html#module-matplotlib.pyplot" title="(in Matplotlib v2.2.3)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code></a> figures and turn them into images. This behavior is
equivalent to the default of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;image_scrapers&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;matplotlib&#39;</span><span class="p">,),</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Built-in support is also provided for finding <a class="reference external" href="http://docs.enthought.com/mayavi/mayavi/auto/mlab_reference.html#module-mayavi.mlab" title="(in mayavi v4.6.1)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Mayavi</span></code></a>
figures. To enable this feature, you can do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;image_scrapers&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;matplotlib&#39;</span><span class="p">,</span> <span class="s1">&#39;mayavi&#39;</span><span class="p">),</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The parameter <code class="docutils literal notranslate"><span class="pre">find_mayavi_figures</span></code> which can also be used to
extract Mayavi figures is <strong>deprecated</strong> in version 0.2+,
and will be removed in a future release.</p>
</div>
<div class="section" id="custom-scrapers">
<h3>Custom scrapers<a class="headerlink" href="#custom-scrapers" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The API for custom scrapers is currently experimental.</p>
</div>
<p>You can also add your own custom function (or callable class instance)
to this list. See <a class="reference internal" href="gen_modules/sphinx_gallery.scrapers.html#sphinx_gallery.scrapers.matplotlib_scraper" title="sphinx_gallery.scrapers.matplotlib_scraper"><code class="xref py py-func docutils literal notranslate"><span class="pre">sphinx_gallery.scrapers.matplotlib_scraper()</span></code></a> for
a description of the interface. Here is pseudocode for what this function
and <a class="reference internal" href="gen_modules/sphinx_gallery.scrapers.html#sphinx_gallery.scrapers.mayavi_scraper" title="sphinx_gallery.scrapers.mayavi_scraper"><code class="xref py py-func docutils literal notranslate"><span class="pre">sphinx_gallery.scrapers.mayavi_scraper()</span></code></a> do under the hood, which
uses <a class="reference internal" href="gen_modules/sphinx_gallery.scrapers.html#sphinx_gallery.scrapers.figure_rst" title="sphinx_gallery.scrapers.figure_rst"><code class="xref py py-func docutils literal notranslate"><span class="pre">sphinx_gallery.scrapers.figure_rst()</span></code></a> to create standardized RST:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">mod_scraper</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">block_vars</span><span class="p">,</span> <span class="n">gallery_conf</span><span class="p">)</span>
    <span class="kn">import</span> <span class="nn">mymod</span>
    <span class="n">image_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="n">image_path_iterator</span> <span class="o">=</span> <span class="n">block_vars</span><span class="p">[</span><span class="s1">&#39;image_path_iterator&#39;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">fig</span><span class="p">,</span> <span class="n">image_path</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">mymod</span><span class="o">.</span><span class="n">get_figures</span><span class="p">(),</span> <span class="n">image_path_iterator</span><span class="p">):</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">save_png</span><span class="p">(</span><span class="n">image_path</span><span class="p">)</span>
        <span class="n">image_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">image_path</span><span class="p">)</span>
    <span class="n">mymod</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">figure_rst</span><span class="p">(</span><span class="n">image_names</span><span class="p">,</span> <span class="n">gallery_conf</span><span class="p">[</span><span class="s1">&#39;src_dir&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>For example, a naive class to scrape any new PNG outputs in the
current directory could do, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">shutil</span>
<span class="kn">from</span> <span class="nn">sphinx_gallery.gen_rst</span> <span class="k">import</span> <span class="n">figure_rst</span>


<span class="k">class</span> <span class="nc">PNGScraper</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">seen</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">block</span><span class="p">,</span> <span class="n">block_vars</span><span class="p">,</span> <span class="n">gallery_conf</span><span class="p">):</span>
        <span class="n">pngs</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="s1">&#39;*.png&#39;</span><span class="p">))</span>
        <span class="n">image_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="n">image_path_iterator</span> <span class="o">=</span> <span class="n">block_vars</span><span class="p">[</span><span class="s1">&#39;image_path_iterator&#39;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">png</span> <span class="ow">in</span> <span class="n">pngs</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">png</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen</span><span class="p">:</span>
                <span class="n">seen</span> <span class="o">|=</span> <span class="nb">set</span><span class="p">(</span><span class="n">png</span><span class="p">)</span>
                <span class="n">image_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">image_path_iterator</span><span class="o">.</span><span class="n">next</span><span class="p">())</span>
                <span class="n">shutil</span><span class="o">.</span><span class="n">copyfile</span><span class="p">(</span><span class="n">png</span><span class="p">,</span> <span class="n">image_names</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">figure_rst</span><span class="p">(</span><span class="n">image_names</span><span class="p">,</span> <span class="n">gallery_conf</span><span class="p">[</span><span class="s1">&#39;src_dir&#39;</span><span class="p">])</span>


<span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;image_scrapers&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;matplotlib&#39;</span><span class="p">,</span> <span class="n">PNGScraper</span><span class="p">()),</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If you have an idea for a scraper that is likely to be useful to others
(e.g., a fully functional image-file-detector, or one for another visualization
libarry), feel free to contribute it on GitHub!</p>
</div>
</div>
<div class="section" id="resetting-modules">
<span id="reset-modules"></span><h2>Resetting modules<a class="headerlink" href="#resetting-modules" title="Permalink to this headline">¶</a></h2>
<p>By default, at the end of each file <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> is reset using
<a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.rcdefaults.html#matplotlib.pyplot.rcdefaults" title="(in Matplotlib v2.2.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.rcdefaults()</span></code></a> and <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> is reset by trying
to unload the module from <code class="docutils literal notranslate"><span class="pre">sys.modules</span></code>. This is equivalent to the
entries:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;reset_modules&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;matplotlib&#39;</span><span class="p">,</span> <span class="s1">&#39;seaborn&#39;</span><span class="p">),</span>
<span class="p">}</span>
</pre></div>
</div>
<p>You can also add your own custom function to this tuple.
The function takes two variables, the <code class="docutils literal notranslate"><span class="pre">gallery_conf</span></code> dict and the
<code class="docutils literal notranslate"><span class="pre">fname</span></code>, which on the first call is the directory name being processed, and
then the names of all files within that directory.
For example, to reset matplotlib to always use the <code class="docutils literal notranslate"><span class="pre">ggplot</span></code> style, you could do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">reset_mpl</span><span class="p">(</span><span class="n">gallery_conf</span><span class="p">,</span> <span class="n">fname</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">matplotlib</span> <span class="k">import</span> <span class="n">style</span>
    <span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;ggplot&#39;</span><span class="p">)</span>


<span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;reset_modules&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">reset_mpl</span><span class="p">,),</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Using resetters such as <code class="docutils literal notranslate"><span class="pre">reset_mpl</span></code> that deviate from
standard behaviors that users will experience when manually running
examples themselves is discouraged due to the inconsistency
that results between the rendered examples and local outputs.</p>
</div>
</div>
<div class="section" id="dealing-with-failing-gallery-example-scripts">
<h2>Dealing with failing Gallery example scripts<a class="headerlink" href="#dealing-with-failing-gallery-example-scripts" title="Permalink to this headline">¶</a></h2>
<p>As your project evolves some of your example scripts might stop
executing properly. Sphinx-Gallery assist you in the discovery process
of those bugged examples. The default behavior is to replace the
thumbnail of those examples in the gallery with the broken
thumbnail. That allows you to find with a quick glance of the gallery
which examples failed. Broken examples remain accessible in the html
view of the gallery and the traceback message is written for the
failing code block. Refer to example
<a class="reference internal" href="auto_examples/no_output/plot_raise.html#sphx-glr-auto-examples-no-output-plot-raise-py"><span class="std std-ref">Example that fails to execute</span></a> to view the default
behavior.</p>
<p>The build is also failed exiting with code 1 and giving you a summary
of the failed examples with their respective traceback. This way you
are aware of failing examples right after the build and can find them
easily.</p>
<p>There are some additional options at your hand to deal with broken examples.</p>
<div class="section" id="abort-build-on-first-fail">
<span id="abort-on-first"></span><h3>Abort build on first fail<a class="headerlink" href="#abort-build-on-first-fail" title="Permalink to this headline">¶</a></h3>
<p>Sphinx-Gallery provides the early fail option. In
this mode the gallery build process breaks as soon as an exception
occurs in the execution of the examples scripts. To activate this
behavior you need to pass a flag at the build process. It can be done
by including in your <code class="docutils literal notranslate"><span class="pre">Makefile</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>html_abort_on_example_error:
    $(SPHINXBUILD) -D abort_on_example_error=1 -b html $(ALLSPHINXOPTS) $(BUILDDIR)/html
    @echo
    @echo &quot;Build finished. The HTML pages are in $(BUILDDIR)/html.&quot;
</pre></div>
</div>
<p>Remember that for <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> white space is significant and the indentation are tabs
and not spaces.</p>
<p>Alternatively, you can add the <code class="docutils literal notranslate"><span class="pre">abort_on_example_error</span></code> option to
the <code class="docutils literal notranslate"><span class="pre">sphinx_gallery_conf</span></code> dictionary inside your <code class="docutils literal notranslate"><span class="pre">conf.py</span></code>
configuration file to have it as a default:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;abort_on_example_error&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The highest precedence is always given to the <cite>-D</cite> flag of
the <code class="docutils literal notranslate"><span class="pre">sphinx-build</span></code> command.</p>
</div>
<div class="section" id="don-t-fail-the-build-on-exit">
<span id="dont-fail-exit"></span><h3>Don’t fail the build on exit<a class="headerlink" href="#don-t-fail-the-build-on-exit" title="Permalink to this headline">¶</a></h3>
<p>It might be the case that you want to keep the gallery even with
failed examples. Thus you can configure Sphinx-Gallery to allow
certain examples to fail and still exit with a 0 exit code. For this
you need to list all the examples you want to allow to fail during
build. Change your <cite>conf.py</cite> accordingly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;expected_failing_examples&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;../examples/plot_raise.py&#39;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Here you list the examples you allow to fail during the build process,
keep in mind to specify the full relative path from your <cite>conf.py</cite> to
the example script.</p>
</div>
</div>
<div class="section" id="setting-gallery-thumbnail-size">
<span id="setting-thumbnail-size"></span><h2>Setting gallery thumbnail size<a class="headerlink" href="#setting-gallery-thumbnail-size" title="Permalink to this headline">¶</a></h2>
<p>By default Sphinx-gallery will generate thumbnails at size <code class="docutils literal notranslate"><span class="pre">(400,</span> <span class="pre">280)</span></code>,
and add pillarboxes or letterboxes as necessary to scale the image while
maintaining the original aspect ratio. This size can be controlled with the
<code class="docutils literal notranslate"><span class="pre">thumbnail_size</span></code> entry as, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;thumbnail_size&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">),</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The gallery uses various CSS classes to display these thumbnails, which
default to maximum 160x160px. To change this, e.g. to display the images
at 250x250px, you can modify the default CSS with something like the following
in your own site’s CSS file:</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">.</span><span class="nc">sphx-glr-thumbcontainer</span> <span class="p">{</span>
    <span class="k">min-height</span><span class="p">:</span> <span class="mi">320</span><span class="kt">px</span> <span class="cp">!important</span><span class="p">;</span>
    <span class="k">margin</span><span class="p">:</span> <span class="mi">20</span><span class="kt">px</span> <span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">sphx-glr-thumbcontainer</span> <span class="p">.</span><span class="nc">figure</span> <span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">250</span><span class="kt">px</span> <span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">sphx-glr-thumbcontainer</span> <span class="nt">img</span> <span class="p">{</span>
    <span class="k">max-height</span><span class="p">:</span> <span class="mi">250</span><span class="kt">px</span> <span class="cp">!important</span><span class="p">;</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">250</span><span class="kt">px</span> <span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">sphx-glr-thumbcontainer</span> <span class="nt">a</span><span class="p">.</span><span class="nc">internal</span> <span class="p">{</span>
    <span class="k">padding</span><span class="p">:</span> <span class="mi">270</span><span class="kt">px</span> <span class="mi">10</span><span class="kt">px</span> <span class="mi">0</span> <span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="minimal-reported-time">
<span id="min-reported-time"></span><h2>Minimal reported time<a class="headerlink" href="#minimal-reported-time" title="Permalink to this headline">¶</a></h2>
<p>By default, Sphinx-gallery logs and embeds in the html output the time it took
to run each script.  If the majority of your examples runs quickly, you may not
need this information.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">min_reported_time</span></code> configuration can be set to a number of seconds.  The
duration of scripts that ran faster than that amount will not be logged nor
embedded in the html output.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="advanced.html" class="btn btn-neutral float-right" title="Advanced usage" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="syntax.html" class="btn btn-neutral" title="How to structure your Python scripts for Sphinx-Gallery" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-2018, Óscar Nájera.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.2.0-git',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>